{"version":3,"sources":["components/pages/MainPage.js","components/pages/MapSelect.js","components/pages/OptionSelect.js","request/caller.js","components/pages/Result.js","components/Carousel.js","App.js","index.js"],"names":["MainPage","onNext","className","src","process","alt","onClick","MapSelect","useState","info","setInfo","markers","setMarkers","map","setMap","query","setQuery","selected","setSelected","position","setPosition","updateMapByQuery","window","kakao","maps","services","Places","keywordSearch","data","status","_pagination","Status","OK","bounds","LatLngBounds","i","length","push","lat","y","lng","x","content","place_name","extend","LatLng","setBounds","useEffect","placeholder","value","onChange","event","target","onKeyDown","key","preventDefault","focus","center","style","width","height","level","onCreate","_t","mouseEvent","coords","latLng","getLat","getLng","geocoder","Geocoder","coord2Address","result","road_address","address_name","address","marker","moveTo","setLevel","setCenter","color","alert","optionKeys","optionNames","deposit","rent","area","distance","defaultValues","weight","bigger","OptionSelect","params","setParams","houseType","setHouseType","salesType","setSalesType","_params","tabIndex","disabled","opt","keyname","type","min","max","current","keyName","parentNode","parentElement","getAttribute","val","k","name","call","onLoad","onError","fetch","method","headers","body","btoa","encodeURI","JSON","stringify","then","response","json","catch","err","console","log","houseTypeName","oneroom","villa","Result","location","ready","setReady","loaded","setLoaded","setData","getPriceText","item","priceText","price","overMillion","href","margin","adj_size","items","index","itemProp","tagName","itemId","open","thumbnail_url","title","Math","round","Carousel","page","setPage","setLocation","toNext","curPage","marginLeft","App","std","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.660ad6e0.chunk.js","sourcesContent":["function MainPage({ onNext }) {\r\n  return (\r\n    <div className=\"page main-page vertical-center\">\r\n      <div>\r\n        <div className=\"logo\">\r\n          <img src={process.env.PUBLIC_URL + \"/img/logo.png\"} alt=\"logo_img\" />\r\n        </div>\r\n        <div className=\"main-phrase\">\r\n          <h1>MOVING TRAVELER</h1>\r\n          <hr />\r\n          <h2>이사 가기 전 부동산 분석</h2>\r\n        </div>\r\n        <div className=\"main-bottom vertical-center\">\r\n          <button className=\"btn\" onClick={onNext}>\r\n            <h2>시작하기</h2>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MainPage;\r\n","import { useEffect, useState } from \"react\";\r\nimport { Map, MapMarker } from \"react-kakao-maps-sdk\";\r\n\r\nfunction MapSelect({ onNext }) {\r\n  const [info, setInfo] = useState();\r\n  const [markers, setMarkers] = useState([]);\r\n  const [map, setMap] = useState();\r\n  const [query, setQuery] = useState(\"\");\r\n  const [selected, setSelected] = useState(null);\r\n  const [position, setPosition] = useState();\r\n  const updateMapByQuery = () => {\r\n    if (!map || !query) return;\r\n    const ps = new window.kakao.maps.services.Places();\r\n    ps.keywordSearch(query, (data, status, _pagination) => {\r\n      if (status === window.kakao.maps.services.Status.OK) {\r\n        const bounds = new window.kakao.maps.LatLngBounds();\r\n        let markers = [];\r\n\r\n        for (let i = 0; i < data.length; i++) {\r\n          markers.push({\r\n            position: {\r\n              lat: data[i].y,\r\n              lng: data[i].x,\r\n            },\r\n            content: data[i].place_name,\r\n          });\r\n          bounds.extend(new window.kakao.maps.LatLng(data[i].y, data[i].x));\r\n        }\r\n        setPosition(null);\r\n        setMarkers(markers);\r\n        map.setBounds(bounds);\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    updateMapByQuery();\r\n  }, [map]);\r\n  return (\r\n    <div className=\"page map-select\">\r\n      <h1>STEP 1 - 거점 선택</h1>\r\n      <div className=\"search-bar\">\r\n        <input\r\n          className=\"search-input\"\r\n          placeholder=\"장소 입력\"\r\n          value={query}\r\n          onChange={(event) => setQuery(event.target.value)}\r\n          onKeyDown={(event) => {\r\n            if (event.key === \"Enter\") {\r\n              updateMapByQuery();\r\n            } else if (event.key === \"Tab\") {\r\n              event.preventDefault();\r\n              event.target.focus();\r\n            }\r\n          }}\r\n        />\r\n        <button className=\"btn search-btn\" onClick={updateMapByQuery}>\r\n          <h2>검색</h2>\r\n        </button>\r\n      </div>\r\n      <Map\r\n        center={{ lat: 37.496791485145096, lng: 127.04567494254165 }}\r\n        style={{ width: \"100%\", height: \"70%\" }}\r\n        level={3}\r\n        onCreate={setMap}\r\n        onClick={(_t, mouseEvent) => {\r\n          const coords = {\r\n            lat: mouseEvent.latLng.getLat(),\r\n            lng: mouseEvent.latLng.getLng(),\r\n          };\r\n          const geocoder = new window.kakao.maps.services.Geocoder();\r\n          setPosition(coords);\r\n          geocoder.coord2Address(coords.lng, coords.lat, (result, status) => {\r\n            if (status === window.kakao.maps.services.Status.OK) {\r\n              if (result[0].road_address) {\r\n                setSelected({\r\n                  content: result[0].road_address.address_name,\r\n                  position: coords,\r\n                });\r\n              } else {\r\n                setSelected({\r\n                  content: result[0].address.address_name,\r\n                  position: coords,\r\n                });\r\n              }\r\n            }\r\n          });\r\n        }}\r\n      >\r\n        {position && <MapMarker position={position} />}\r\n        {markers.map((marker) => (\r\n          <MapMarker\r\n            key={`marker-${marker.content}-${marker.position.lat},${marker.position.lng}`}\r\n            position={marker.position}\r\n            onClick={() => {\r\n              const moveTo = new window.kakao.maps.LatLng(\r\n                marker.position.lat,\r\n                marker.position.lng\r\n              );\r\n              map.setLevel(2);\r\n              map.setCenter(moveTo);\r\n              setInfo(marker);\r\n              setSelected(marker);\r\n            }}\r\n          >\r\n            {info && info.content === marker.content && (\r\n              <div style={{ color: \"black\" }}>{marker.content}</div>\r\n            )}\r\n          </MapMarker>\r\n        ))}\r\n      </Map>\r\n      {selected != null ? (\r\n        <h3>선택: {selected.content}</h3>\r\n      ) : (\r\n        <h3>거점(직장, 학교 등)이 될 장소를 선택해주세요</h3>\r\n      )}\r\n      <button\r\n        className=\"btn\"\r\n        onClick={() => {\r\n          if (selected) onNext(selected);\r\n          else alert(\"검색 후 지도에서 위치를 선택해주세요\");\r\n        }}\r\n      >\r\n        <h2>결정</h2>\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MapSelect;\r\n","import { useEffect, useState } from \"react\";\r\nimport \"./pages.css\";\r\n\r\nconst optionKeys = [\"deposit\", \"rent\", \"area\", \"distance\"];\r\nconst optionNames = {\r\n  deposit: \"보증금 (만원)\",\r\n  rent: \"월세 (만원)\",\r\n  area: \"면적 (m2)\",\r\n  distance: \"거리 (km)\",\r\n};\r\nconst defaultValues = {\r\n  deposit: { weight: 20, bigger: false },\r\n  rent: { weight: 70, bigger: false },\r\n  area: { weight: 50, bigger: true },\r\n  distance: { weight: 50, bigger: false },\r\n};\r\n\r\nfunction OptionSelect({ onNext }) {\r\n  const [params, setParams] = useState();\r\n  const [houseType, setHouseType] = useState();\r\n  const [salesType, setSalesType] = useState();\r\n  useEffect(() => {\r\n    const _params = {};\r\n    for (const key of optionKeys) {\r\n      _params[key] = {\r\n        weight: defaultValues[key].weight,\r\n      };\r\n    }\r\n    setParams(_params);\r\n  }, []);\r\n  return (\r\n    <div className=\"page option-page\">\r\n      <h1>STEP 2 - 가중치 입력</h1>\r\n      <h4 className=\"description\">중요도에 따라서 가중치를 부여합니다.</h4>\r\n      <select\r\n        tabIndex={-1}\r\n        onChange={(event) => {\r\n          if (event.target.value === \"apt\") {\r\n            alert(\"아파트는 현재 지원하지 않습니다.\");\r\n            event.preventDefault();\r\n            return;\r\n          }\r\n          setHouseType(event.target.value);\r\n        }}\r\n      >\r\n        <option key=\"house_desc\" value={-1}>\r\n          집 종류 선택\r\n        </option>\r\n        <option key=\"oneroom\" value=\"oneroom\">\r\n          원룸\r\n        </option>\r\n        <option key=\"villa\" value=\"villa\">\r\n          빌라, 투룸+\r\n        </option>\r\n        <option key=\"apt\" value=\"apt\" disabled>\r\n          아파트\r\n        </option>\r\n      </select>\r\n      <select\r\n        tabIndex={-1}\r\n        onChange={(event) => {\r\n          setSalesType(event.target.value);\r\n        }}\r\n      >\r\n        <option key=\"house_desc\" value={-1}>\r\n          거래 방식 선택\r\n        </option>\r\n        <option key=\"월세\" value=\"월세\">\r\n          월세\r\n        </option>\r\n        <option key=\"전세\" value=\"전세\">\r\n          전세\r\n        </option>\r\n        <option key=\"매매\" value=\"매매\">\r\n          매매\r\n        </option>\r\n      </select>\r\n      <table className=\"option-table\">\r\n        <tbody>\r\n          <tr>\r\n            <th>항목</th>\r\n            <th>중요도</th>\r\n          </tr>\r\n          {params\r\n            ? optionKeys.map((opt) => {\r\n                if (!params || !params[opt]) {\r\n                  return null;\r\n                }\r\n                return (\r\n                  <tr key={opt} keyname={opt}>\r\n                    <td>{optionNames[opt]}</td>\r\n                    <td>\r\n                      <input\r\n                        type=\"range\"\r\n                        className=\"slider\"\r\n                        min={0}\r\n                        max={100}\r\n                        tabIndex={-1}\r\n                        value={params[opt].weight}\r\n                        onChange={(event) => {\r\n                          setParams((current) => {\r\n                            const keyName =\r\n                              event.target.parentNode.parentElement.getAttribute(\r\n                                \"keyname\"\r\n                              );\r\n                            const val = event.target.value;\r\n                            current[keyName].weight = val;\r\n                            return { ...current };\r\n                          });\r\n                        }}\r\n                      />\r\n                    </td>\r\n                  </tr>\r\n                );\r\n              })\r\n            : null}\r\n        </tbody>\r\n      </table>\r\n      <button\r\n        className=\"btn\"\r\n        onClick={() => {\r\n          if (!houseType || houseType == -1) {\r\n            alert(\"집의 종류를 선택해주세요\");\r\n            return;\r\n          }\r\n          if (!salesType || salesType == -1) {\r\n            alert(\"거래 방식을 선택해주세요\");\r\n            return;\r\n          }\r\n          onNext(\r\n            optionKeys.map((k) => ({\r\n              name: k,\r\n              weight: params[k].weight * (defaultValues[k].bigger ? 1 : -1),\r\n            })),\r\n            houseType,\r\n            salesType\r\n          );\r\n        }}\r\n      >\r\n        <h2>결과 요청</h2>\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default OptionSelect;\r\n","// aws lambda 호출하여 계산 결과 가져오기\r\nfunction call(data, onLoad, onError = (data) => alert(\"오류 발생!\", data)) {\r\n  fetch(\r\n    \"https://li6ctgphqglz6ol7cuo5qik3dm0mphxc.lambda-url.us-east-1.on.aws/\",\r\n    {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: window.btoa(window.encodeURI(window.JSON.stringify(data))),\r\n    }\r\n  )\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .then(onLoad)\r\n    .catch((err) => {\r\n      console.log(\"오류발생\", err);\r\n      onError(err);\r\n    });\r\n}\r\n\r\nexport default call;\r\n","import { useEffect, useState } from \"react\";\r\nimport { Loader } from \"react-kakao-maps-sdk\";\r\nimport \"./pages.css\";\r\nimport call from \"../../request/caller.js\";\r\n\r\nconst houseTypeName = { oneroom: \"원룸\", villa: \"빌라/투룸+\" };\r\n\r\nfunction Result({ location, houseType, salesType, params, onNext }) {\r\n  const [ready, setReady] = useState(false);\r\n  const [loaded, setLoaded] = useState(false);\r\n  const [data, setData] = useState();\r\n  const onLoad = (data) => {\r\n    setData(data.data);\r\n    setLoaded(true);\r\n  };\r\n  const getPriceText = (item) => {\r\n    const overMillion = (price) => price >= 10000;\r\n    const priceText = (price) =>\r\n      overMillion(price) ? `${price / 10000}억원` : `${price}만원`;\r\n    const deposit = item.deposit;\r\n    const rent = item.rent;\r\n    if (salesType === \"매매\" || salesType === \"전세\") {\r\n      return priceText(deposit);\r\n    }\r\n    return `보증금: ${priceText(deposit)}/월세: ${priceText(rent)}`;\r\n  };\r\n  useEffect(() => {\r\n    if (location && params) {\r\n      setReady(true);\r\n    }\r\n  }, [location, params]);\r\n  useEffect(() => {\r\n    if (ready) {\r\n      call(\r\n        {\r\n          houseType: houseType,\r\n          salesType: salesType,\r\n          params: params,\r\n          location: [location.position.lat * 1, location.position.lng * 1],\r\n        },\r\n        onLoad\r\n      );\r\n    }\r\n  }, [ready]);\r\n  return (\r\n    <div className=\"page result-page\">\r\n      <a href=\"/moving-traveler\">\r\n        <img\r\n          className=\"logo\"\r\n          src={process.env.PUBLIC_URL + \"/img/logo.png\"}\r\n          alt=\"logo_img\"\r\n        />\r\n      </a>\r\n      <h1 style={{ margin: \"0 0 10px 0\" }}>결과</h1>\r\n      <hr />\r\n      {ready && (\r\n        <h3>\r\n          [{houseTypeName[houseType]}][{salesType}] {location.content} 주변\r\n          {data && (\r\n            <div>\r\n              {data.adj_size}개 매물 중 TOP {data.items.length}\r\n            </div>\r\n          )}\r\n        </h3>\r\n      )}\r\n      {loaded ? (\r\n        <table>\r\n          <tbody>\r\n            {data.items.map((item, index) => {\r\n              return (\r\n                <tr\r\n                  key={item[\"item_id\"]}\r\n                  itemProp={item[\"item_id\"]}\r\n                  onClick={(event) => {\r\n                    let target = event.target;\r\n                    while (target.tagName !== \"TR\") {\r\n                      target = target.parentNode;\r\n                    }\r\n                    const itemId = target.getAttribute(\"itemprop\");\r\n                    window.open(\r\n                      `https://www.zigbang.com/home/oneroom/items/${itemId}`\r\n                    );\r\n                  }}\r\n                >\r\n                  <td className=\"img-cell\">\r\n                    <img src={`${item.thumbnail_url}?w=600`} />\r\n                  </td>\r\n                  <td>\r\n                    <div>\r\n                      <div className=\"item-result-row\">\r\n                        <h3>\r\n                          [{index + 1}위] {item.title}\r\n                        </h3>\r\n                        <h4>{getPriceText(item)}</h4>\r\n                      </div>\r\n                      <div className=\"item-result-row\">\r\n                        <h4>\r\n                          면적: {item.area}m<sub>2</sub>\r\n                        </h4>\r\n                        <h4>\r\n                          거리: {window.Math.round(item.distance * 10) / 10}km\r\n                        </h4>\r\n                      </div>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              );\r\n            })}\r\n          </tbody>\r\n        </table>\r\n      ) : ready ? (\r\n        <div>\r\n          <div className=\"loader\">Loading...</div>\r\n          <h3>\r\n            불러오는 중입니다...\r\n            <br />\r\n            <br />\r\n            매물이 많으면 오래 걸릴 수 있습니다\r\n          </h3>\r\n        </div>\r\n      ) : (\r\n        <h2>단계를 건너뛰셨습니다. 다시 시도해주십시오</h2>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Result;\r\n","import { useState } from \"react\";\r\nimport styles from \"./Carousel.css\";\r\nimport MainPage from \"./pages/MainPage.js\";\r\nimport MapSelect from \"./pages/MapSelect.js\";\r\nimport OptionSelect from \"./pages/OptionSelect\";\r\nimport Result from \"./pages/Result\";\r\n\r\nfunction Carousel() {\r\n  const [page, setPage] = useState(0);\r\n  const [location, setLocation] = useState();\r\n  const [houseType, setHouseType] = useState(\"\");\r\n  const [salesType, setSalesType] = useState();\r\n  const [params, setParams] = useState();\r\n  const size = 4;\r\n  const toNext = () => {\r\n    setPage((curPage) => (curPage + 1) % size);\r\n  };\r\n  const onLocationSelect = (location) => {\r\n    setLocation(location);\r\n    toNext();\r\n  };\r\n  const onParamRequest = (params, houseType, salesType) => {\r\n    setParams(params);\r\n    setHouseType(houseType);\r\n    setSalesType(salesType);\r\n    toNext();\r\n  };\r\n  return (\r\n    <div>\r\n      <div className=\"carousel\" style={{ marginLeft: `-${page * 100}%` }}>\r\n        <div className=\"carousel-item\">\r\n          <MainPage onNext={toNext} />\r\n        </div>\r\n        <div className=\"carousel-item\">\r\n          <MapSelect onNext={onLocationSelect} />\r\n        </div>\r\n        <div className=\"carousel-item\">\r\n          <OptionSelect onNext={onParamRequest} />\r\n        </div>\r\n        <div className=\"carousel-item\">\r\n          <Result\r\n            location={location}\r\n            houseType={houseType}\r\n            salesType={salesType}\r\n            params={params}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Carousel;\r\n","import { useState } from \"react\";\nimport \"./App.css\";\nimport Carousel from \"./components/Carousel.js\";\n\nfunction App() {\n  const [page, setPage] = useState(0);\n  const [location, setLocation] = useState([0, 0]);\n  const [params, setParams] = useState([\n    { name: \"면적(m2)\", std: 50, weight: 5 },\n    { name: \"보증금\", std: 500, weight: -0.1 },\n    { name: \"월세\", std: 50, weight: -10 },\n    { name: \"거리\", std: 5000, weight: -5 },\n  ]);\n\n  function to(page) {}\n\n  return (\n    <div className=\"App\">\n      <Carousel />\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\n// for react v18\n// const root = ReactDOM.createRoot(document.getElementById(\"root\"));\n// root.render(<App />);\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}